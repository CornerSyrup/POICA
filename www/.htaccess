# php
    php_value include_path "/code/hew2020/www/"
    php_value session.gc_maxlifetime 3600

# Defaults
    DirectoryIndex None

# ErrorDoc
    #ErrorDocument 404 /error/404.html
    ErrorDocument 404 "its 404"

# Rewrites
    RewriteEngine On

    # forbidden
        RewriteRule ^model/ / [R=404]
        RewriteRule ^view/ / [R=404]
        RewriteRule ^controller/ / [R=404]

    # cdn
        RewriteRule ^cdn/(.+).js$ /view/$1.js [END]
        RewriteRule ^cdn/(.+).css$ /view/$1.css [END]
        RewriteRule ^cdn/(.+).png$ /image/$1.png [END]

    # api
        # temp api for demo
        RewriteRule ^departments/$ /controller/demo/department_entry.php [NC,END]

        # auth
        RewriteRule ^signin/$ /controller/signin_entry.php [NC,END]
        RewriteRule ^signin/suica/$ /controller/signin_entry.php?m=s [NC,END,QSA]
        RewriteRule ^signup/$ /controller/signup_entry.php [NC,END]
        RewriteRule ^suica/$ /controller/suica_entry.php [NC,END]
        RewriteRule ^signout/$ /controller/signout.php [NC,END]
        # restful
        RewriteRule ^students/(\w{2}\d\w)/$ /controller/student_entry.php?c=$1 [NC,END,QSA]
        RewriteRule ^teachers/$ /controller/teacher_entry.php [NC,END]
        RewriteRule ^lessons/$ /controller/lesson_entry.php [NC,END]
        RewriteRule ^forms/$ /controller/form_entry.php [NC,END]
        RewriteRule ^forms/(\d+)/$ /controller/form_entry.php?e=$1 [NC,END,QSA]

    # page
        RewriteRule ^ /controller/general.php [NC,END]

    # direct
        RewriteRule ^(.+)(?<!/)$ /$1/ [R]
